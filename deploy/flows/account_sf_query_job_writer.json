{
    "flow": {
        "name": "salesforce_pubsub_account_writer",
        "require_leader_election": "true",
        "tasks": [
            {
                "nats_jetstream_subscriber": {
                    "name": "nats_account_jetstream_subscriber",
                    "credentials_path": "/etc/nats/credentials.json",
                    "stream": {
                        "create_or_update": true,
                        "name": "eventbus",
                        "description": "account_nats_jetstream_publisher_salesforce_query_job_retrieve",
                        "subjects": [
                            "bulkapiretrieve.account.>"
                        ],
                        "max_age_secs": 86400,
                        "retention": "limits",
                        "discard_policy": "old"
                    },
                    "stream_description": "main streaming event-bus of flowgen",
                    "subject": "bulkapiretrieve.account.>",
                    "durable_name": "salesforce_pubsub_query_job_writer",
                    "batch_size": 100
                }
            },
            {
                "object_store_writer": {
                    "name": "account_salesforce_bulkapi_object_store_writer",
                    "label": "account_salesforce_bulkapi_object_store_writer",
                    "path": "gs://cnnv-staging-salesforce/bulkapiquery/Account",
                    "credentials_path": "/etc/gcp/credentials.json"
                }
            }
        ]
    }
}